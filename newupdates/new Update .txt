ğŸ“‚ Dosya YapÄ±sÄ±:

SoundAurora/
â”œâ”€â”€ frontend/
â”‚ â”œâ”€â”€ index.html # Ana sayfa
â”‚ â”œâ”€â”€ style.css # Tema ve animasyonlar
â”‚ â””â”€â”€ main.js # EtkileÅŸimler ve API Ã§aÄŸrÄ±larÄ±
â””â”€â”€ backend/
â”œâ”€â”€ app/
â”‚ â”œâ”€â”€ main.py # FastAPI giriÅŸ noktasÄ±
â”‚ â”œâ”€â”€ tts_engine.py # OpenVoice + Piper TTS
â”‚ â”œâ”€â”€ stt_engine.py # Vosk STT
â”‚ â”œâ”€â”€ settings.py
â”‚ â”œâ”€â”€ models.py
â”‚ â””â”€â”€ voice_registry.json
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â””â”€â”€ docker-compose.yml

ğŸ”´ Neden AÃ§Ä±lmÄ±yor?

Ã‡Ã¼nkÃ¼ butona tÄ±klayÄ±nca aÃ§Ä±lacak bir TTS sayfasÄ± HTMLâ€™de tanÄ±mlÄ± deÄŸil, JS de sadece uyarÄ± Ã§Ä±karÄ±yor. Bu yÃ¼zden sen ne kadar dÃ¼zeltme yapsan da TTS ekranÄ± hiÃ§ gÃ¶rÃ¼nmez.

âœ… Kesin Ã‡Ã¶zÃ¼m
index.htmlâ€™e </main> kapanÄ±ÅŸÄ±ndan Ã¶nce bir TTS section ekle (id="ttsSection").
style.cssâ€™e .tts-section{display:none} + .tts-section.show{display:block} ekle.
main.jsâ€™te handleFeatureClick('tts') kÄ±smÄ±nÄ± deÄŸiÅŸtir â†’ showTTSPage() fonksiyonu Ã§aÄŸrÄ±lmalÄ±.
Bunu yapÄ±nca:
TTS kartÄ±na tÄ±klayÄ±nca ana iÃ§erik gizlenecek,
#ttsSection bÃ¶lÃ¼mÃ¼ aÃ§Ä±lacak,
Metin girip tarayÄ±cÄ± TTS ile seslendirme yapÄ±labilecek. 

---

# 1) `index.html` â€” TTS bÃ¶lÃ¼mÃ¼ EKLE

Bunu **`</main>` kapanÄ±ÅŸÄ±ndan Ã–NCE** yapÄ±ÅŸtÄ±r (yoksa ekle, varsa tekrarlama):

```html
<!-- #TTS_SECTION_START -->
<section id="ttsSection" class="tts-section" style="display:none;">
  <div class="container" style="max-width:900px;margin:60px auto;">
    <h2>Text-to-Speech (TTS)</h2>

    <label for="ttsText" style="display:block;margin:8px 0;">Text</label>
    <textarea id="ttsText" rows="5" style="width:100%;padding:12px;border-radius:12px;"></textarea>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:12px 0;">
      <div>
        <label for="ttsVoice">Voice</label>
        <select id="ttsVoice" style="width:100%;padding:10px;border-radius:12px;"></select>
      </div>
      <div>
        <label for="ttsRate">Rate (0.5â€“2)</label>
        <input id="ttsRate" type="range" min="0.5" max="2" step="0.1" value="1" style="width:100%;">
      </div>
    </div>

    <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;">
      <button id="ttsPlay" class="feature-btn">â–¶ Play</button>
      <button id="ttsStop" class="feature-btn">â–  Stop</button>
      <button id="ttsBack" class="feature-btn">â† Back</button>
    </div>
  </div>
</section>
<!-- #TTS_SECTION_END -->
```

---

# 2) `style.css` â€” GÃ¶rÃ¼nÃ¼rlÃ¼k sÄ±nÄ±fÄ± EKLE

DosyanÄ±n **sonuna** ekle:

```css
/* #TTS_VISIBILITY */
.tts-section{display:none;}
.tts-section.show{display:block;}
```

---

# 3) `main.js` â€” YÃ¶nlendirme ve TTS baÄŸlama (KISA, Ã‡AKIÅMA YAPMAZ)

### 3.a) â€œTÄ±kla â†’ TTSâ€™i aÃ§â€ (mevcut handleFeatureClickâ€™in EN BAÅINA koy)

```js
function handleFeatureClick(feature) {
  if (feature === 'tts') { showTTSPage(); return; }
  // ... senin mevcut coming-soon kodun burada kalacak ...
```

> Not: Sende aynÄ± isimli fonksiyonlar Ã§akÄ±ÅŸma yapmÄ±ÅŸ. Bu yÃ¼zden **sadece** aÅŸaÄŸÄ±daki 4 yardÄ±mcÄ± fonksiyonu ekliyoruz; baÅŸka yere dokunmuyoruz.

### 3.b) Bu 4 yardÄ±mcÄ±yÄ± dosyanÄ±n SONUNA ekle

```js
// #TTS_MINIMAL_HELPERS (conflict-safe - farklÄ± isimler)
let __ttsSec=null, __ttsEls=null;

function __ttsInitOnce(){
  if (__ttsSec) return;
  __ttsSec = document.getElementById('ttsSection');
  if (!__ttsSec) return;

  __ttsEls = {
    text:  document.getElementById('ttsText'),
    voice: document.getElementById('ttsVoice'),
    rate:  document.getElementById('ttsRate'),
    play:  document.getElementById('ttsPlay'),
    stop:  document.getElementById('ttsStop'),
    back:  document.getElementById('ttsBack'),
  };

  // Voice listesi â€“ tarayÄ±cÄ± TTS
  if ('speechSynthesis' in window && __ttsEls.voice){
    function loadVoices(){
      const vs = speechSynthesis.getVoices()
        .sort((a,b)=>a.lang.localeCompare(b.lang)||a.name.localeCompare(b.name));
      __ttsEls.voice.innerHTML='';
      vs.forEach(v=>{
        const o=document.createElement('option');
        o.value=v.name; o.textContent=`${v.name} (${v.lang})`;
        __ttsEls.voice.appendChild(o);
      });
    }
    loadVoices();
    speechSynthesis.onvoiceschanged = loadVoices;
  }

  // Butonlar
  __ttsEls.play?.addEventListener('click', __ttsPlayBrowser);
  __ttsEls.stop?.addEventListener('click', ()=>window.speechSynthesis?.cancel());
  __ttsEls.back?.addEventListener('click', hideTTSPage);
}

function showTTSPage(){
  __ttsInitOnce();
  if (!__ttsSec) { console.error('TTS section not found'); return; }
  if (typeof mainContent!=='undefined' && mainContent) mainContent.style.display='none';
  __ttsSec.classList.add('show'); __ttsSec.style.display='block';
}

function hideTTSPage(){
  if (__ttsSec){ __ttsSec.classList.remove('show'); __ttsSec.style.display='none'; }
  if (typeof mainContent!=='undefined' && mainContent){
    mainContent.style.display='block'; setTimeout(()=>mainContent.classList.add('show'),50);
  }
}

function __ttsPlayBrowser(){
  const txt = __ttsEls?.text?.value?.trim();
  if (!txt || !('speechSynthesis' in window)) return;
  speechSynthesis.cancel();
  const u = new SpeechSynthesisUtterance(txt);
  const vs = speechSynthesis.getVoices();
  const chosen = vs.find(v=>v.name===__ttsEls.voice?.value);
  if (chosen) u.voice = chosen;
  u.rate = parseFloat(__ttsEls.rate?.value||'1');
  speechSynthesis.speak(u);
}
```

---

## Kontrol Listesi (2 dakika)

* SayfayÄ± **Ctrl+F5** ile sert yenile.
* **Login â†’ TTS kartÄ±**na tÄ±kla â†’ **TTS bÃ¶lÃ¼mÃ¼** aÃ§Ä±lmalÄ±.
* Metin yaz â†’ **Play** â†’ tarayÄ±cÄ± sesi okumalÄ±.
* **Back** â†’ ana menÃ¼ye dÃ¶nmeli.

> HÃ¢lÃ¢ aÃ§Ä±lmÄ±yorsa: TarayÄ±cÄ± konsolunda `TTS section not found` gÃ¶rÃ¼rsen **index.htmlâ€™deki `id="ttsSection"` bloÄŸu eklenmemiÅŸ** demektir. Ekleyip yenile.

Bu 3 yama, Ã¶nceki â€œduplicate functionâ€ kaosuna girmeden TTSâ€™i kesin aÃ§ar.
